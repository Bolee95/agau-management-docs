<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>BridgeMediator</title>


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="../../../favicon.svg">
        <link rel="shortcut icon" href="../../../favicon.png">
        <link rel="stylesheet" href="../../../css/variables.css">
        <link rel="stylesheet" href="../../../css/general.css">
        <link rel="stylesheet" href="../../../css/chrome.css">
        <link rel="stylesheet" href="../../../css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="../../../FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="../../../fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="../../../highlight.css">
        <link rel="stylesheet" href="../../../tomorrow-night.css">
        <link rel="stylesheet" href="../../../ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <link rel="stylesheet" href="../../../book.css">

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "../../../";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item "><a href="../../../index.html">Home</a></li><li class="chapter-item affix "><li class="part-title">contracts</li><li class="chapter-item "><a href="../../../contracts/admin-ops/index.html">❱ admin-ops</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../contracts/admin-ops/IOpsEvents.sol/interface.IOpsEvents.html">IOpsEvents</a></li><li class="chapter-item "><a href="../../../contracts/admin-ops/OpsBaseProcessor.sol/abstract.OpsBaseProcessor.html">OpsBaseProcessor</a></li><li class="chapter-item "><a href="../../../contracts/admin-ops/OpsProcessor.sol/contract.OpsProcessor.html">OpsProcessor</a></li><li class="chapter-item "><a href="../../../contracts/admin-ops/OpsStorage.sol/contract.OpsStorage.html">OpsStorage</a></li><li class="chapter-item "><a href="../../../contracts/admin-ops/OpsTypes.sol/library.OpsTypes.html">OpsTypes</a></li></ol></li><li class="chapter-item expanded "><a href="../../../contracts/bridge/index.html">❱ bridge</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../contracts/bridge/BridgeInteractor.sol/abstract.BridgeInteractor.html">BridgeInteractor</a></li><li class="chapter-item expanded "><a href="../../../contracts/bridge/BridgeMediator.sol/contract.BridgeMediator.html" class="active">BridgeMediator</a></li><li class="chapter-item "><a href="../../../contracts/bridge/BridgeMessagesMapper.sol/abstract.BridgeMessagesMapper.html">BridgeMessagesMapper</a></li><li class="chapter-item "><a href="../../../contracts/bridge/BridgeModeSwitch.sol/abstract.BridgeModeSwitch.html">BridgeModeSwitch</a></li></ol></li><li class="chapter-item "><a href="../../../contracts/certificates/index.html">❱ certificates</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../contracts/certificates/Certificates.sol/contract.Certificates.html">Certificates</a></li><li class="chapter-item "><a href="../../../contracts/certificates/ERC1155D.sol/abstract.ERC1155D.html">ERC1155D</a></li><li class="chapter-item "><a href="../../../contracts/certificates/URIBuilder.sol/contract.URIBuilder.html">URIBuilder</a></li></ol></li><li class="chapter-item "><a href="../../../contracts/certs-management/index.html">❱ certs-management</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../contracts/certs-management/common/index.html">❱ common</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../contracts/certs-management/common/BaseManagementStorage.sol/contract.BaseManagementStorage.html">BaseManagementStorage</a></li><li class="chapter-item "><a href="../../../contracts/certs-management/common/IRequestsEvents.sol/interface.IRequestsEvents.html">IRequestsEvents</a></li></ol></li><li class="chapter-item "><a href="../../../contracts/certs-management/redemption/index.html">❱ redemption</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../contracts/certs-management/redemption/RedemptionProcessor.sol/contract.RedemptionProcessor.html">RedemptionProcessor</a></li><li class="chapter-item "><a href="../../../contracts/certs-management/redemption/RedemptionStorage.sol/contract.RedemptionStorage.html">RedemptionStorage</a></li></ol></li><li class="chapter-item "><a href="../../../contracts/certs-management/tokenization/index.html">❱ tokenization</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../contracts/certs-management/tokenization/TokenizationProcessor.sol/contract.TokenizationProcessor.html">TokenizationProcessor</a></li><li class="chapter-item "><a href="../../../contracts/certs-management/tokenization/TokenizationStorage.sol/contract.TokenizationStorage.html">TokenizationStorage</a></li></ol></li></ol></li><li class="chapter-item "><a href="../../../contracts/common/index.html">❱ common</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../contracts/common/ArrayUtils.sol/library.ArrayUtils.html">ArrayUtils</a></li><li class="chapter-item "><a href="../../../contracts/common/BaseProcessor.sol/abstract.BaseProcessor.html">BaseProcessor</a></li><li class="chapter-item "><a href="../../../contracts/common/BridgeInterable.sol/abstract.BridgeInterable.html">BridgeInterable</a></li><li class="chapter-item "><a href="../../../contracts/common/CallGuard.sol/abstract.CallGuard.html">CallGuard</a></li><li class="chapter-item "><a href="../../../contracts/common/HolderWallet.sol/contract.HolderWallet.html">HolderWallet</a></li><li class="chapter-item "><a href="../../../contracts/common/RelayerAware.sol/abstract.RelayerAware.html">RelayerAware</a></li><li class="chapter-item "><a href="../../../contracts/common/WalletManager.sol/contract.WalletManager.html">WalletManager</a></li></ol></li><li class="chapter-item "><a href="../../../contracts/forwarder/index.html">❱ forwarder</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../contracts/forwarder/Forwarder.sol/contract.Forwarder.html">Forwarder</a></li></ol></li><li class="chapter-item "><a href="../../../contracts/multistep/index.html">❱ multistep</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../contracts/multistep/Process.sol/struct.Signature.html">Signature</a></li><li class="chapter-item "><a href="../../../contracts/multistep/Process.sol/struct.Process.html">Process</a></li><li class="chapter-item "><a href="../../../contracts/multistep/Process.sol/library.ProcessLib.html">ProcessLib</a></li><li class="chapter-item "><a href="../../../contracts/multistep/ProcessFactory.sol/contract.ProcessFactory.html">ProcessFactory</a></li><li class="chapter-item "><a href="../../../contracts/multistep/ProcessManager.sol/contract.ProcessManager.html">ProcessManager</a></li><li class="chapter-item "><a href="../../../contracts/multistep/ProcessTypes.sol/constants.ProcessTypes.html">ProcessTypes constants</a></li><li class="chapter-item "><a href="../../../contracts/multistep/Step.sol/struct.Step.html">Step</a></li><li class="chapter-item "><a href="../../../contracts/multistep/Step.sol/library.StepLib.html">StepLib</a></li></ol></li><li class="chapter-item "><a href="../../../contracts/roles/index.html">❱ roles</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../contracts/roles/BaseRoleProcessor.sol/abstract.BaseRoleProcessor.html">BaseRoleProcessor</a></li><li class="chapter-item "><a href="../../../contracts/roles/RoleAssignProcessor.sol/contract.RoleAssignProcessor.html">RoleAssignProcessor</a></li><li class="chapter-item "><a href="../../../contracts/roles/RoleRemoveProcessor.sol/contract.RoleRemoveProcessor.html">RoleRemoveProcessor</a></li><li class="chapter-item "><a href="../../../contracts/roles/RoleRequestsStorage.sol/contract.RoleRequestsStorage.html">RoleRequestsStorage</a></li><li class="chapter-item "><a href="../../../contracts/roles/RolesManager.sol/contract.RolesManager.html">RolesManager</a></li></ol></li><li class="chapter-item "><a href="../../../contracts/shipment/index.html">❱ shipment</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../contracts/shipment/inbound/index.html">❱ inbound</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../contracts/shipment/inbound/InboundShipmentProcessor.sol/contract.InboundShipmentProcessor.html">InboundShipmentProcessor</a></li><li class="chapter-item "><a href="../../../contracts/shipment/inbound/InboundShipmentStorage.sol/contract.InboundShipmentStorage.html">InboundShipmentStorage</a></li></ol></li><li class="chapter-item "><a href="../../../contracts/shipment/outbound/index.html">❱ outbound</a><a class="toggle"><div>❱</div></a></li><li><ol class="section"><li class="chapter-item "><a href="../../../contracts/shipment/outbound/OutboundShipmentProcessor.sol/contract.OutboundShipmentProcessor.html">OutboundShipmentProcessor</a></li><li class="chapter-item "><a href="../../../contracts/shipment/outbound/OutboundShipmentStorage.sol/contract.OutboundShipmentStorage.html">OutboundShipmentStorage</a></li></ol></li><li class="chapter-item "><a href="../../../contracts/shipment/BaseShipmentStorage.sol/abstract.BaseShipmentStorage.html">BaseShipmentStorage</a></li><li class="chapter-item "><a href="../../../contracts/shipment/SharedShipmentStorage.sol/contract.SharedShipmentStorage.html">SharedShipmentStorage</a></li><li class="chapter-item "><a href="../../../contracts/shipment/ShipmentTypes.sol/library.ShipmentTypes.html">ShipmentTypes</a></li><li class="chapter-item "><a href="../../../contracts/shipment/ShipmentUtils.sol/library.ShipmentUtils.html">ShipmentUtils</a></li></ol></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <!-- Track and set sidebar scroll position -->
        <script>
            var sidebarScrollbox = document.querySelector('#sidebar .sidebar-scrollbox');
            sidebarScrollbox.addEventListener('click', function(e) {
                if (e.target.tagName === 'A') {
                    sessionStorage.setItem('sidebar-scroll', sidebarScrollbox.scrollTop);
                }
            }, { passive: true });
            var sidebarScrollTop = sessionStorage.getItem('sidebar-scroll');
            sessionStorage.removeItem('sidebar-scroll');
            if (sidebarScrollTop) {
                // preserve sidebar scroll position when navigating via links within sidebar
                sidebarScrollbox.scrollTop = sidebarScrollTop;
            } else {
                // scroll sidebar to current active section when navigating via "next/previous chapter" buttons
                var activeSection = document.querySelector('#sidebar .active');
                if (activeSection) {
                    activeSection.scrollIntoView({ block: 'center' });
                }
            }
        </script>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="../../../print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                        <a href="https://github.com/MOONSTRUCK-team/agau-management" title="Git repository" aria-label="Git repository">
                            <i id="git-repository-button" class="fa fa-github"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="bridgemediator"><a class="header" href="#bridgemediator">BridgeMediator</a></h1>
<p><a href="https://github.com/MOONSTRUCK-team/agau-management/blob/f4738cc1bed2ef96985e8eed62680b201c03aebf/contracts/bridge/BridgeMediator.sol">Git Source</a></p>
<p><strong>Inherits:</strong>
<a href="/contracts/common/CallGuard.sol/abstract.CallGuard.html">CallGuard</a>, <a href="/contracts/bridge/BridgeModeSwitch.sol/abstract.BridgeModeSwitch.html">BridgeModeSwitch</a></p>
<p>*Mediator contract that enables interaction with the bridge on the other side
Its capable of sending messages, as well as receiving and executing them
Following statuses of the messages on AMB are recognized:</p>
<ol>
<li>PENDING - messageExecuted == false &amp;&amp; messageReverted == false</li>
<li>EXECUTED - messageExecuted == true</li>
<li>REJECTED - messageExecuted == false &amp;&amp; messageReverted == true*</li>
</ol>
<h2 id="state-variables"><a class="header" href="#state-variables">State Variables</a></h2>
<h3 id="_ambcontract"><a class="header" href="#_ambcontract">_AMBContract</a></h3>
<p><em>AMB contract address</em></p>
<pre><code class="language-solidity">IAMB private immutable _AMBContract;
</code></pre>
<h3 id="_foreignmediator"><a class="header" href="#_foreignmediator">_foreignMediator</a></h3>
<p><em>Mediator contract address on the other side of the bridge</em></p>
<pre><code class="language-solidity">address private _foreignMediator;
</code></pre>
<h3 id="_targets"><a class="header" href="#_targets">_targets</a></h3>
<p><em>Mapping of function selector to target address</em></p>
<pre><code class="language-solidity">mapping(bytes4 selector =&gt; address target) private _targets;
</code></pre>
<h2 id="functions"><a class="header" href="#functions">Functions</a></h2>
<h3 id="constructor"><a class="header" href="#constructor">constructor</a></h3>
<pre><code class="language-solidity">constructor(address AMBContract_, address foreignMediator_, address owner_, address[] memory authorized_)
    CallGuard(owner_, authorized_);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>AMBContract_</code></td><td><code>address</code></td><td>Address of the AMB contract</td></tr>
<tr><td><code>foreignMediator_</code></td><td><code>address</code></td><td>Address of the mediator contract on the other side of the bridge</td></tr>
<tr><td><code>owner_</code></td><td><code>address</code></td><td>Address of the owner</td></tr>
<tr><td><code>authorized_</code></td><td><code>address[]</code></td><td>Array of authorized addresses</td></tr>
</tbody></table>
</div>
<h3 id="setforeignmediator"><a class="header" href="#setforeignmediator">setForeignMediator</a></h3>
<p><em>Sets the <code>foreignMediator</code> address
Callable only by owner
Emits {ForeignMediatorChanged} event</em></p>
<pre><code class="language-solidity">function setForeignMediator(address foreignMediator_) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>foreignMediator_</code></td><td><code>address</code></td><td>Address of the mediator</td></tr>
</tbody></table>
</div>
<h3 id="setbridgemodeactive"><a class="header" href="#setbridgemodeactive">setBridgeModeActive</a></h3>
<p><em>Sets flag if the bridge mode is active
Callable only by owner
Emits {BridgeModeChanged} event</em></p>
<pre><code class="language-solidity">function setBridgeModeActive(bool active_) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>active_</code></td><td><code>bool</code></td><td>Flag if bridge mode is active</td></tr>
</tbody></table>
</div>
<h3 id="setincomingmessagesconfigs"><a class="header" href="#setincomingmessagesconfigs">setIncomingMessagesConfigs</a></h3>
<p><em>Sets the target address for the given selector
Callable only by owner
Emits {TargetForSelectorChanged} event</em></p>
<pre><code class="language-solidity">function setIncomingMessagesConfigs(IncomingMessageRoutingParam[] memory incomingRoutings) external onlyOwner;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>incomingRoutings</code></td><td><code>IncomingMessageRoutingParam[]</code></td><td>Arrays of configurations for routing incoming messages</td></tr>
</tbody></table>
</div>
<h3 id="sendmessage"><a class="header" href="#sendmessage">sendMessage</a></h3>
<p><em>Sends a message to the other side of the bridge
Callable only by authorized addresses</em></p>
<pre><code class="language-solidity">function sendMessage(bytes memory data) external onlyAuthorized returns (bytes32 messageId);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>Data to send</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>messageId</code></td><td><code>bytes32</code></td><td>Identifier of the message</td></tr>
</tbody></table>
</div>
<h3 id="forwardmessage"><a class="header" href="#forwardmessage">forwardMessage</a></h3>
<p><em>Receives a message from the other side of the bridge and executes it
Callable only by the AMB contract</em></p>
<pre><code class="language-solidity">function forwardMessage(bytes calldata data) external;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>data</code></td><td><code>bytes</code></td><td>Message data</td></tr>
</tbody></table>
</div>
<h3 id="messagecallstatus"><a class="header" href="#messagecallstatus">messageCallStatus</a></h3>
<p><em>Returns the status of the message with id <code>messageId</code></em></p>
<pre><code class="language-solidity">function messageCallStatus(bytes32 messageId) public view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>messageId</code></td><td><code>bytes32</code></td><td>Identifier of the message</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>Flag if the message is executed</td></tr>
</tbody></table>
</div>
<h3 id="messagereverted"><a class="header" href="#messagereverted">messageReverted</a></h3>
<p><em>Returns if message with id <code>messageId</code> reverted</em></p>
<pre><code class="language-solidity">function messageReverted(bytes32 messageId) external view returns (bool);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>messageId</code></td><td><code>bytes32</code></td><td>Identifier of the message</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>bool</code></td><td>Flag if the message is reverted</td></tr>
</tbody></table>
</div>
<h3 id="currentmessageid"><a class="header" href="#currentmessageid">currentMessageId</a></h3>
<pre><code class="language-solidity">function currentMessageId() external view returns (bytes32);
</code></pre>
<h3 id="ambcontract"><a class="header" href="#ambcontract">AMBContract</a></h3>
<p><em>Returns the address of the AMB contract</em></p>
<pre><code class="language-solidity">function AMBContract() external view returns (address);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>Address of the AMB contract</td></tr>
</tbody></table>
</div>
<h3 id="mediatoronotherside"><a class="header" href="#mediatoronotherside">mediatorOnOtherSide</a></h3>
<p><em>Returns the address of mediator contract on the other side of the bridge</em></p>
<pre><code class="language-solidity">function mediatorOnOtherSide() external view returns (address);
</code></pre>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>Address of mediator contract</td></tr>
</tbody></table>
</div>
<h3 id="target"><a class="header" href="#target">target</a></h3>
<p><em>Returns the address of the target contract for the given selector</em></p>
<pre><code class="language-solidity">function target(bytes4 selector) external view returns (address);
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>selector</code></td><td><code>bytes4</code></td><td>Selector of the method</td></tr>
</tbody></table>
</div>
<p><strong>Returns</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>&lt;none&gt;</code></td><td><code>address</code></td><td>Address of the target contract</td></tr>
</tbody></table>
</div>
<h3 id="gaslimit"><a class="header" href="#gaslimit">gasLimit</a></h3>
<p><em>Returns the gas limit for the message
Setup taken from AMB bridge implementation
https://github.com/omni/tokenbridge-contracts/blob/908a48107919d4ab127f9af07d44d47eac91547e/contracts/upgradeable_contracts/arbitrary_message/MessageProcessor.sol#L233</em></p>
<pre><code class="language-solidity">function gasLimit() public pure returns (uint256);
</code></pre>
<h3 id="_setforeignmediator"><a class="header" href="#_setforeignmediator">_setForeignMediator</a></h3>
<p><em>Sets the <code>foreignMediator</code> address
Emits {ForeignMediatorChanged} event</em></p>
<pre><code class="language-solidity">function _setForeignMediator(address foreignMediator_) private;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>foreignMediator_</code></td><td><code>address</code></td><td>Address of the mediator</td></tr>
</tbody></table>
</div>
<h3 id="_setincomingmessageconfig"><a class="header" href="#_setincomingmessageconfig">_setIncomingMessageConfig</a></h3>
<p><em>Sets the target address for the given selector on incoming message
Emits {TargetForSelectorChanged} event</em></p>
<pre><code class="language-solidity">function _setIncomingMessageConfig(bytes4 selector_, address target_) private;
</code></pre>
<p><strong>Parameters</strong></p>
<div class="table-wrapper"><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody>
<tr><td><code>selector_</code></td><td><code>bytes4</code></td><td>Method selector</td></tr>
<tr><td><code>target_</code></td><td><code>address</code></td><td>Address of the target contract</td></tr>
</tbody></table>
</div>
<h2 id="events"><a class="header" href="#events">Events</a></h2>
<h3 id="foreignmediatorchanged"><a class="header" href="#foreignmediatorchanged">ForeignMediatorChanged</a></h3>
<p><em>Emitted when the mediator contract address is changed</em></p>
<pre><code class="language-solidity">event ForeignMediatorChanged(address indexed foreignMediator);
</code></pre>
<h3 id="incomingmessageconfigchanged"><a class="header" href="#incomingmessageconfigchanged">IncomingMessageConfigChanged</a></h3>
<p><em>Emitted when the incoming message config changed</em></p>
<pre><code class="language-solidity">event IncomingMessageConfigChanged(bytes4 indexed selector, address indexed target);
</code></pre>
<h2 id="errors"><a class="header" href="#errors">Errors</a></h2>
<h3 id="callernotforeignmediator"><a class="header" href="#callernotforeignmediator">CallerNotForeignMediator</a></h3>
<p><em>Caller not mediator on the other side of the bridge</em></p>
<pre><code class="language-solidity">error CallerNotForeignMediator();
</code></pre>
<h3 id="messageexecutionfailed"><a class="header" href="#messageexecutionfailed">MessageExecutionFailed</a></h3>
<p><em>Message execution failed</em></p>
<pre><code class="language-solidity">error MessageExecutionFailed();
</code></pre>
<h3 id="messagefrominvalidbridge"><a class="header" href="#messagefrominvalidbridge">MessageFromInvalidBridge</a></h3>
<p><em>Message from invalid bridge</em></p>
<pre><code class="language-solidity">error MessageFromInvalidBridge();
</code></pre>
<h3 id="notargetforselector"><a class="header" href="#notargetforselector">NoTargetForSelector</a></h3>
<p><em>No target for selector from data</em></p>
<pre><code class="language-solidity">error NoTargetForSelector(bytes4 selector);
</code></pre>
<h2 id="structs"><a class="header" href="#structs">Structs</a></h2>
<h3 id="incomingmessageroutingparam"><a class="header" href="#incomingmessageroutingparam">IncomingMessageRoutingParam</a></h3>
<p><em>Structure containing routing config for incoming messages, used in the method calls as parameter type</em></p>
<pre><code class="language-solidity">struct IncomingMessageRoutingParam {
    bytes4 selector;
    address target;
}
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="../../../contracts/bridge/BridgeInteractor.sol/abstract.BridgeInteractor.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>

                            <a rel="next" href="../../../contracts/bridge/BridgeMessagesMapper.sol/abstract.BridgeMessagesMapper.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>

                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="../../../contracts/bridge/BridgeInteractor.sol/abstract.BridgeInteractor.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>

                    <a rel="next" href="../../../contracts/bridge/BridgeMessagesMapper.sol/abstract.BridgeMessagesMapper.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>




        <script>
            window.playground_copyable = true;
        </script>


        <script src="../../../elasticlunr.min.js"></script>
        <script src="../../../mark.min.js"></script>
        <script src="../../../searcher.js"></script>

        <script src="../../../clipboard.min.js"></script>
        <script src="../../../highlight.js"></script>
        <script src="../../../book.js"></script>

        <!-- Custom JS scripts -->
        <script src="../../../solidity.min.js"></script>


    </div>
    </body>
</html>
